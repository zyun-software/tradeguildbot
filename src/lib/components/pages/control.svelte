<script lang="ts">
	import { guilds, pageComponent, selectedGuildId } from '$lib/stores';
	import type { GuildType } from '$lib/types';
	import { showBackButton } from '$lib/utilities';
	import { onMount } from 'svelte';
	import Hint from '../parts/hint.svelte';
	import Menu from '../parts/menu.svelte';
	import Title from '../parts/title.svelte';
	import Guild from './guild.svelte';

	onMount(() => {
		showBackButton(() => {
			pageComponent.set(Guild);
		});
	});

	let guild: GuildType;
	const find = ($guilds ?? []).find((guild) => guild.id === $selectedGuildId);

	if (find) {
		guild = find;

		if (!guild.isOwner) {
			pageComponent.set(Guild);
		}
	}
</script>

<Title text="ğŸ›ï¸ ĞšĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ³Ñ–Ğ»ÑŒĞ´Ñ–Ñ”Ñ" />

<Hint text="â„¹ï¸ Ğ’Ğ¸ Ğ·Ğ½Ğ°Ñ…Ğ¾Ğ´ĞµÑ‚ĞµÑÑ Ğ² Ğ¼ĞµĞ½Ñ ĞºĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ³Ñ–Ğ»ÑŒĞ´Ñ–Ñ”Ñ <b>{guild.name}</b>." />

<Menu
	buttons={[
		{
			emoji: 'ğŸ“„',
			text: 'Ğ—Ğ°ÑĞ²ĞºĞ¸'
		},
		{
			emoji: 'âœğŸ»',
			text: 'ĞŸÑĞµĞ²Ğ´Ğ¾Ğ½Ñ–Ğ¼'
		},
		{
			emoji: 'ğŸ’±',
			text: 'Ğ’Ğ°Ğ»ÑÑ‚Ğ°'
		},
		{
			emoji: 'ğŸ’°',
			text: 'ĞšĞ¾ÑˆÑ‚Ğ¸'
		},
		{
			emoji: 'ğŸ·ï¸',
			text: 'Ğ¦Ñ–Ğ½Ğ¸'
		},
		{
			emoji: 'ğŸ—‘ï¸',
			text: 'Ğ’Ğ°Ğ¹Ğ¿'
		}
	]}
/>
